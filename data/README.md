_The terms NFV-POD and CO are used interchangeably in this repository._  
_`#` denotes a comment within the file descriptions._

## co_topology.dat

Network topology for the NFV-POD/CO level (or inter-CO) network

````
<node-count> <edge-count>
# for each node in (0, node-count]
<node-id> <co2/kWh> <0/1> # last field indicate availability of renewable energy
# for each edge in (0, 2*edge-count]
<edge-u> <edge-v> <latency> <capacity in mbps> # each edge is listed twice
````
A sample file with 6 nodes and 8 edges is as follows. Each edge is listed twice (there are 16 edge items after node data) to easily handle edge mappings in the CPLEX code.  

````
6 8
0 1.2 0
1 1.02 0
2 1.02 0
3 1.02 0
4 1.2 0
5 1.2 0
0 1 3 100000
1 0 3 100000
0 2 3 100000
2 0 3 100000
1 3 20 100000
3 1 20 100000
1 4 4 100000
4 1 4 100000
1 5 4 100000
5 1 4 100000
2 3 1 100000
3 2 1 100000
3 4 4 100000
4 3 4 100000
4 5 3 100000
5 4 3 100000
````

## timeslots.dat

Contains SFC request specification for timeslots

````
<total-sfc-count>
<timeslot-count>
# must insert dummy timeslots (containing zero sfcs) to represent timeslots by which time all active sfcs will expire.
#for each timeslot in (0, timeslot-count]
<sfc-count for timeslot t>
# for each sfc in (0, t.sfc-count]
<sfc-id> <ingress-co> <egress-co> <ttl> <vnf-count> [... <vnf-cpu-requirement> ...] <bandwidth> <max-delay>
````

A sample file:

````
6
4
2
0 0 4 2 3 2 0 1 100 200
1 1 3 1 2 1 2 100 220
1
2 2 4 1 1 2 100 100
3
3 3 5 1 3 0 1 2 100 50
4 1 5 1 3 2 3 4 60 190
5 0 5 1 2 1 2 80 90
0
````

The `timeslot-count` is `4` here, because `3` time-instances has non-zero SFC requests, which represent the actual data and the forth time-instance has zero SFCs. The last one or more time-instance(s) contains 0 SFC requests. These time instances need to be there to represent time-instances where SFCs will expire. For example, if the last (non-zero) time-instance has an SFC with a maximum ttl of `m`, then there must be `m` zeros after the SFC list of this time-instance. The timeslot generator program in the directories `rocketfule(_v2)` takes care of this issue. The [generate_timeslot_file.ipynb](rocketfuel_v2/generate_timeslot_file.ipynb) notebook explains this process in detail.

## vnf_types.dat

Information about VNF types and flavors

````
<type-count>
# for each type in (0, type-count]
<type-id> <type-name>
<flavor-count>
# for each flavor in (0, flavor-count]
<flavor-id> <type-id> <cpu-core> <processing-delay>
````

Sample file

````
3
0 FW
1 PX
2 VO
6
0 0 4 2
1 0 2 1
2 1 4 3
3 1 2 2
4 2 1 2
5 2 2 1

````

## init_topology.dat

Initial topology for the entire newtwork, i.e., inter-CO and intra-CO. This file is generated by running `process_topology`. 

````
<co-count>
# for each co in (0, co-count]
... <reneable-energy in kW> ... # 24 data points
<node-count> <edge-count> # for the entire network
# for each node in (0, node-count]
<node-id> <co-id> <'c'/'s'> <sleep-energy> <base-energy> <cpu-count> <per-cpu-energy>  
# c: compute/server, s: switch, last two data are for servers
# for each edge in (0, edge-count]
<edge-id> <node-id> <node-id> <'b'/'i'> <co-id> <link-cap> <link-delay> 
# b: backbone edge, i: intra-CO edge
# co-id for backbone (inter-co) edges is -1
````

Sample file [set0/init_topology.dat](set0/init_topology.dat)


## greencap.dat

This file contains random data representing renewable energy generated at different locations. The `green_shuffle.py` program is used to shuffle this file before an experiment is run. 

## Misc

* `set0` contains a small dataset for manual testing of the algorithms
* `rocketfuel` and `rocketfuel_v2` contians the raw _rocketfuel_ network topologies used to generate the dataset suitable for ESSO simulation. This notebook explains how to generate the SFC request files (`timeslots.dat`) based on the topology.
* `<other-directories>` the other directories contain datasets used for the simulation.
* `file-info` contains information on different file formats. This information is redundant.   